---
title： 超英电影预热项目
---
# 超英电影预热项目

## [底部导航栏tabBar配置](https://uniapp.dcloud.io/collocation/pages?id=tabbar)
* tabBar 中的 list 是一个数组，只能配置最少2个、最多5个 tab，tab 按数组的顺序排序。
```json
"tabBar": {
    "color": "#bfbfbf",  //tab 上的文字默认颜色
    "selectedColor": "#515151",  //tab 上的文字选中时的颜色
    "borderStyle": "black",  //tabbar 上边框的颜色，仅支持 black/white
    "backgroundColor": "#ffffff",  //tab 的背景色
    "list": [{
            "pagePath": "pages/index/index",  //页面路径，必须在 pages 中先定义
            "text": "首页", //tab 上按钮文字，在 5+APP 和 H5 平台为非必填。例如中间可放一个没有文字的+号图标
            "iconPath": "static/tabBarIco/index.png", //图片路径，icon 大小限制为40kb，建议尺寸为 81px * 81px，当 postion 为 top 时，此参数无效，不支持网络图片，不支持字体图标
            "selectedIconPath": "static/tabBarIco/index_sel.png" //选中时的图片路径
        },
        {
            "pagePath": "pages/search/search",
            "text": "搜索",
            "iconPath": "static/tabBarIco/search.png",
            "selectedIconPath": "static/tabBarIco/search_sel.png"
        },
        {
            "pagePath": "pages/me/me",
            "text": "我的",
            "iconPath": "static/tabBarIco/me.png",
            "selectedIconPath": "static/tabBarIco/me_sel.png"
        }
    ]
}
```
## [移动端关闭导航栏](https://uniapp.dcloud.io/collocation/pages?id=app-titlenview)
* 每个页面均支持通过配置 titleNView 为 false 来禁用原生导航栏
::: warning
* 如果 h5 节点没有配置，默认会使用 app-plus 下的配置。
* 配置了 h5 节点，则会覆盖 app-plus 下的配置。
:::

## 轮播图组件[swiper](https://uniapp.dcloud.io/component/swiper)
* HBuilderX快捷键，输入`uswper`

属性名 | 类型 | 默认值 | 说明 | 平台支持度
------- | ------- | ------- | ------- | -------
indicator-dots | Boolean | false | 是否显示面板指示点 | 
indicator-color | Color | rgba(0, 0, 0, .3) | 指示点颜色 | 
indicator-active-color | Color | #000000 | 当前选中的指示点颜色 | 
autoplay | Boolean | false | 是否自动切换 | 
current | Number | 0 | 当前所在滑块的 index | 
current-item-id | String |  | 当前所在滑块的 item-id ，不能与 current 被同时指定 | 微信小程序、5+App、H5、百度小程序、头条小程序
interval | Number | 5000 | 自动切换时间间隔 | 
duration | Number | 500 | 滑动动画时长 | 
circular | Boolean | false | 是否采用衔接滑动 | 
vertical | Boolean | false | 滑动方向是否为纵向 | 
previous-margin | String | 0px | 前边距，可用于露出前一项的一小部分，接受 px 和 rpx 值 | 头条小程序不支持
next-margin | String | 0px | 后边距，可用于露出后一项的一小部分，接受 px 和 rpx 值 | 头条小程序不支持
display-multiple-items | Number | 1 | 同时显示的滑块数量 | 微信小程序、5+App、H5、百度小程序、头条小程序
skip-hidden-item-layout | Boolean | false | 是否跳过未显示的滑块布局，设为 true 可优化复杂情况下的滑动性能，但会丢失隐藏状态滑块的布局信息 | 微信小程序、5+App
@change | EventHandle |  | current 改变时会触发 change 事件，event.detail = {current: current, source: source} | 
@animationfinish | EventHandle |  | 动画结束时会触发 animationfinish 事件，event.detail 同上 | 头条小程序不支持
```html
<swiper :indicator-dots="true" :autoplay="true" :interval="3000" :duration="1000" class="carousel">
	<swiper-item v-for="carousel in carouselList" :key="carousel.id"><image :src="carousel.image" class="carousel"></image></swiper-item>
</swiper>
```

## [uni.request发起网络请求](https://uniapp.dcloud.io/api/request/request?id=request)
参数名 | 类型 | 必填 | 默认值 | 说明 | 平台差异说明
------- | ------- | ------- | ------- | ------- | -------
url | String | 是 |  | 开发者服务器接口地址 | 
data | Object/String/ArrayBuffer | 否 |  | 请求的参数 | 
header | Object | 否 |  | 设置请求的 header，header 中不能设置 Referer。 | 
method | String | 否 | GET | 有效值详见下方说明 | 
dataType | String | 否 | json | 如果设为 json，会尝试对返回的数据做一次 JSON.parse | 
responseType | String | 否 | text | 设置响应的数据类型。合法值：text、arraybuffer | 支付宝小程序不支持
success | Function | 否 |  | 收到开发者服务成功返回的回调函数 | 
fail | Function | 否 |  | 接口调用失败的回调函数 | 
complete | Function | 否 |  | 接口调用结束的回调函数（调用成功、失败都会执行） |  
#### 示例
```js
uni.request({
    url: 'https://www.example.com/request', //仅为示例，并非真实接口地址。
    data: {
        text: 'uni.request'
    },
    header: {
        'custom-header': 'hello' //自定义请求头信息
    },
    success: (res) => {
        console.log(res.data);
        this.text = 'request success';
    }
});
```
### 提取请求服务器地址
1. 单独import导入js公共文件
```js
//common/common.js

const serverUrl = "https://www.imovietrailer.com/superhero"; //生产环境
// const serverUrl = "https://www.imovietrailer-dev.com/superhero";		// 开发环境
export default {
	serverUrl
}

//pages/index/index.vue

 import common from "../../common/common.js"
onLoad() {
    // 获取common.js中的服务器地址
    var serverUrl = common.serverUrl;
}
```
2. 将变量挂载到vue原型prototype上
```js
//main.js

Vue.prototype.serverUrl = "https://www.imovietrailer.com/superhero";			// 生产环境
// Vue.prototype.serverUrl = "https://www.imovietrailer-dev.com/superhero";		// 开发环境

////pages/index/index.vue

onLoad() {
    // 通过挂载到main.js中获取服务器的地址，作为全局变量
	var serverUrl = this.serverUrl;
}
```
## 小程序真机调试
##### 小程序真机调试需要配置AppID，请求服务器需要在小程序平台开发中配置服务器域名
1. 配置appid
   * 进入小程序公众平台 -> 左侧开发选项 -> 开发设置 -> 开发者ID
2. 配置服务器域名
   * 进入小程序公众平台 -> 左侧开发选项 -> 开发设置 -> 服务器域名
3. 配置开发者工具
   * 进入微信开发者工具 -> 菜单项最右侧详情 -> 修改appid
## [滚动视图组件(scroll-view)](https://uniapp.dcloud.io/component/scroll-view)
属性名 |  类型 | 默认值 | 说明 | 平台支持
------- | ------- | ------- | ------- | -------
scroll-x | Boolean | false | 允许横向滚动 | 
scroll-y | Boolean | false | 允许纵向滚动 | 
upper-threshold | Number | 50 | 距顶部/左边多远时（单位px），触发 scrolltoupper 事件 | 
lower-threshold | Number | 50 | 距底部/右边多远时（单位px），触发 scrolltolower 事件 | 
scroll-top | Number |  | 设置竖向滚动条位置 | 
scroll-left | Number |  | 设置横向滚动条位置 | 
scroll-into-view | String |  | 值应为某子元素id（id不能以数字开头）。设置哪个方向可滚动，则在哪个方向滚动到该元素 | 
scroll-with-animation | Boolean | false | 在设置滚动条位置时使用动画过渡 | 
enable-back-to-top | Boolean | false | iOS点击顶部状态栏、安卓双击标题栏时，滚动条返回顶部，只支持竖向 | 微信小程序
@scrolltoupper | EventHandle |  | 滚动到顶部/左边，会触发 scrolltoupper 事件 | 
@scrolltolower | EventHandle |  | 滚动到底部/右边，会触发 scrolltolower 事件 | 
@scroll | EventHandle |  | 滚动时触发，event.detail = {scrollLeft, scrollTop, scrollHeight, scrollWidth, deltaX, deltaY}
* 使用竖向滚动时，需要给 `<scroll-view>`一个固定高度，通过 css 设置 height。
* HBuilderX快捷键，输入`uScrollView`
```html
<scroll-view scroll-x="true" class="page-block hot">
	<view class="single-poster" v-for="superhero in hotSuperheroList" :key="superhero.id">
		<view class="poster-warpper">
			<image :src="superhero.cover" class="poster"></image>
			<view class="movie-name">{{superhero.name}}</view>
			<view class="movie-score-warpper">
				<image src="../../static/icos/star-yellow.png" class="start-ico"></image>
			</view>
		</view>
	</view>
</scroll-view>
```
## 开发组件
* 支持[vue组件开发](https://cn.vuejs.org/v2/guide/components.html)
* 父子组件通过props传输数据