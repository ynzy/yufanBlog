(window.webpackJsonp=window.webpackJsonp||[]).push([[127],{321:function(s,a,n){"use strict";n.r(a);var t=n(5),e=Object(t.a)({},function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"一、介绍"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一、介绍","aria-hidden":"true"}},[s._v("#")]),s._v(" 一、介绍")]),s._v(" "),n("p",[s._v("通过vue-music-app项目，初步熟悉vue中的数据交互和传参方式，此项目中使用到了\nvuex，vue-router，props，solt传参方式进行页面传参，以及如何设置代理服务器对访问的ip地址进行管理\n，并且使用到了vant按需引入轮播图组件。")]),s._v(" "),n("p",[n("a",{attrs:{href:"https://github.com/ynzy/vue-project/tree/master/vue-music-app",target:"_blank",rel:"noopener noreferrer"}},[s._v("源码地址"),n("OutboundLink")],1)]),s._v(" "),n("h2",{attrs:{id:"二、传参方式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#二、传参方式","aria-hidden":"true"}},[s._v("#")]),s._v(" 二、传参方式")]),s._v(" "),n("h3",{attrs:{id:"_1、插槽分发内容"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1、插槽分发内容","aria-hidden":"true"}},[s._v("#")]),s._v(" 1、插槽分发内容")]),s._v(" "),n("ul",[n("li",[s._v("定义一个组件，在组件内写入"),n("code",[s._v("<slot></slot>")]),s._v("标签，当调用组件时，组件中如果有内容，则会替换slot标签渲染数据。")]),s._v(" "),n("li",[s._v("新建一个slider组件：")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('<template>\n  \x3c!-- TODO:vue通过ref设置dom元素，通过$refs方法获取此dom节点 --\x3e\n  <div class="slider" ref="slider">\n    <div class="sliderGroup" ref="sliderGroup">\n      <slot></slot>\n    </div>\n  </div>\n</template>\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("ul",[n("li",[n("p",[s._v("新建一个recommend.vue组件，调用slider组件")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('<template>\n  <div class="recommend">\n    <h2 class="recommendlist">推荐歌单</h2>\n    <slider>\n      \x3c!-- TODO:使用插槽,通过组件的slot标签，替换数据 --\x3e\n      <div v-for="item in slider" :key="item.id">\n        {{ item.songName }}\n      </div>\n    </slider>\n</div>\n</template>\n<script>\nimport slider from "./slider.vue";\nexport default {\n  data() {\n    return { \n      slider: []\n    };\n  },\n  components: {  //调用slider组件\n    slider\n  },\n  methods: {\n      getSlider() {  //获取数据存储在slider数组中\n        this.$axios.get("http://www.wanandroid.com/tools/mockapi/9664/songlist").then(resp => {\n          if (resp.status == 200) {\n            this.slider = resp.data;\n          }\n        });\n      },\n  }\n<\/script>\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br")])]),n("p",[n("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/13505073-e3539c75d7ee9299.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"页面效果.png"}})])])]),s._v(" "),n("h3",{attrs:{id:"_2、通过props进行父子组件传参"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2、通过props进行父子组件传参","aria-hidden":"true"}},[s._v("#")]),s._v(" 2、通过props进行父子组件传参")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("有些时候，我们定义一个组件，在多个地方调用，而所需展示的数据不同，可以通过props传参方式对组件进行页面渲染")])]),s._v(" "),n("li",[n("p",[s._v("新建一个Songlist.vue组件")])])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('\x3c!-- 不同数据调用此模板 --\x3e\n<template>\n  <div>\n    <ul>\n      <li class="songli" v-for="item in songList" @click="selectSong(item)">\n        <div class="songinfor">\n          <p class="title">{{item.songName}}</p>\n          <p class="singer" style="font-size:12px;color:#888">{{item.singer}}</p>\n        </div>\n        <p class="start">\n          <img src="../../static/img/start.png">\n        </p>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nexport default {\n    props: ["songList"],  //通过props接收父组件传送的数据\n};\n<\/script>\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br")])]),n("ul",[n("li",[s._v("新建一个recommend.vue,调用子组件SongList")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('<template>\n  <div class="recommend">\n      \x3c!-- TODO:动态绑定数据songList数据，子组件通过props接收数据 --\x3e\n    <songList :song-list="songList"></songList>  \n    \t\n  </div>\n</template>\n<script>\nimport songList from "./Songlist.vue"\nexport default {\n  data() {\n    return { \n      songList: []\n    };\n  },\n  components: {\n    songList,\n  },\n  methods: {\n    getSongList() {\n      this.$axios.get("http://www.wanandroid.com/tools/mockapi/9664/recommend").then(resp => {\n        if (resp.status == 200) {\n          this.songList = resp.data;\n        }\n      });\n    }\n  }\n};\n<\/script>\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br")])]),n("p",[n("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/13505073-a447d0175d80d847.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"页面效果.png"}})]),s._v(" "),n("ul",[n("li",[s._v("新建一个Hot.vue组件，也调用子组件Songlist")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('<template>\n  <div id="hot">\t\n\t\t<div class="banner">\n\t\t\t热门歌曲\n\t\t</div>\n        \x3c!-- 动态绑定数据hotList数据 --\x3e\n\t\t<songList :song-list="hotList"></songList>\n\t</div>\n</template>\n\n<script>\nimport songList from "./Songlist.vue"\n    export default {\n        \t\tdata() {\n\t\t\treturn {hotList: []}\n\t\t},\n\t\tmethods: {\n\t\t\tgetHotList() {\n\t\t\t\t this.$axios.get("http://www.wanandroid.com/tools/mockapi/9664/recommend").then(resp => {\n\t\t\t\t\t \n                    if (resp.status == 200) {\n                    \tthis.hotList = resp.data;\n                    }\n                });\n\t\t\t}\n        },\n        mounted() {\n            this.getHotList()\n        },\n        components: {\n            songList\n        }\n    }\n<\/script>\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br")])]),n("p",[n("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/13505073-b754df0159ac607c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"页面效果.png"}})]),s._v(" "),n("h3",{attrs:{id:"_3、使用vue-router进行页面传参"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3、使用vue-router进行页面传参","aria-hidden":"true"}},[s._v("#")]),s._v(" 3、使用vue-router进行页面传参")]),s._v(" "),n("ul",[n("li",[s._v("点击某个菜单项，跳转到另一个组件页面时可以使用vue-router进行传参")]),s._v(" "),n("li",[s._v("对路由进行配置\n"),n("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/13505073-63cd4d2cd00d4d86.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"路由配置.png"}})]),s._v(" "),n("li",[s._v("在songList组件添加点击事件跳转查看详情页")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('\x3c!-- 不同数据调用此模板 --\x3e\n<template>\n  <div>\n    <ul>\n      <li class="songli" v-for="item in songList" @click="selectSong(item)">\n        <div class="songinfor">\n          <p class="title">{{item.songName}}</p>\n          <p class="singer" style="font-size:12px;color:#888">{{item.singer}}</p>\n        </div>\n        <p class="start">\n          <img src="../../static/img/start.png">\n        </p>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nexport default {\n    props: ["songList"],\n    methods: {\n        selectSong(item) {\n            // 直接调用$router.push,实现携带参数的跳转\n            // this.$router.push({\n            //     "name" : "Detail",  //发送跳转页面名字\n            //     "params" : {item,item} //TODO: 通过路由的params进行传参\n            // })\n            this.$router.push({\n                "path": "/detail/:item",\n                "query": {item: JSON.stringify(item)}  //TODO: 通过路由的query进行传参\n            })\n        },\n    }\n};\n<\/script>\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br")])]),n("ul",[n("li",[s._v("新建detail.vue组件，接收页面传参")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('<template>\n    <transition name="slider">\n        <div class="detail">\n                <div class="songimg">\n                    <img :src="songDetail.songImgSrc">\n                </div>\n                <div class="songtitle">\n                    {{songDetail.songName}}\n                </div>\n                <div class="songaudio">\n                    <audio autoplay="autoplay">\n                        <source src="static/song/song.ogg" type="audio/ogg" />\n                        <source src="static/song/song.mp3" type="audio/mpeg" />\n                    </audio>\n                </div>\n            </div>\n    </transition>\n</template>\n<script>\n    export default {\n        data() {\n            return {\n                songDetail: {}\n            }\n        },\n        mounted () {\n            //TODO:parmas传参不可以刷新，会丢失数据，query可以刷新页面\n            // console.log(this.$route.params) //$route接收传递的参数\n            // this.songDetail = this.$route.params.item  //TODO: params接收路由传递的参数\n            this.songDetail = JSON.parse(this.$route.query.item); //TODO: query接收路由传递的参数\n        },\n    }\n<\/script>\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br")])]),n("h3",{attrs:{id:"_4、使用vuex进行数据管理"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4、使用vuex进行数据管理","aria-hidden":"true"}},[s._v("#")]),s._v(" 4、使用vuex进行数据管理")]),s._v(" "),n("ul",[n("li",[s._v("使用vuex可以更好的管理数据状态，使数据得到共享")]),s._v(" "),n("li",[s._v("安装vuex "),n("code",[s._v("npm install vuex --save")])]),s._v(" "),n("li",[s._v("新建store文件夹，同一组织store文件\n"),n("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/13505073-b8ff747ee5b2c8b6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"store文件结构.png"}})])]),s._v(" "),n("h5",{attrs:{id:"_1-在main-js引入store"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-在main-js引入store","aria-hidden":"true"}},[s._v("#")]),s._v(" (1) 在main.js引入store")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("import Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport axios from 'axios'\nimport store from './store/index'  //导入store主文件index\n\nVue.prototype.$axios = axios  //将axios添加到vue的原型上，所有vue实例上都可以使用axios\n\nVue.config.productionTip = false\n\nnew Vue({\n  el: '#app',\n  store,  //添加在vue实例上\n  router,\n  components: { App },\n  template: '<App/>'\n})\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br")])]),n("h5",{attrs:{id:"_2-编写store文件夹"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-编写store文件夹","aria-hidden":"true"}},[s._v("#")]),s._v(" (2) 编写store文件夹")]),s._v(" "),n("ul",[n("li",[s._v("index.js")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("import Vue from 'vue'\nimport Vuex from 'vuex'\nimport getters from './getters'\nimport state from './state'\nimport mutations from './mutations'\nimport actions from './action'\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n    getters,\n    state,\n    mutations,\n    actions\n})\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("ul",[n("li",[s._v("state.js  //数据管理")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("const state = {\n\tsong: {}\n}\nexport default {\n    state\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("ul",[n("li",[s._v("getters.js  //管理数据状态，相当于computed(计算)属性")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("const getters={\n  getSong(state){\n    return state.song;\n  }\n}\nexport default getters;\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("ul",[n("li",[s._v("actions.js  //提交数据变化，一把用于异步获取数据，相当于methods(方法)属性")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("import types from './types.js'\nimport axios from 'axios'\n\nconst actions = {\n  getSongAsync({commit,state}) {\n    axios.get(\"/recommend/\").then(resp => {\n      if (resp.status == 200) {\n        commit(types.GET_SONG, resp.data);  //提交突变\n      }\n    });\n  }\n}\n\nexport default actions;\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("ul",[n("li",[s._v("mutations.js //改变数据状态，也就相当于对state数据进行更新")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("import types from './types'\n\nconst mutations = {\n\t[types.GET_SONG](state,data) {\n        state.song = data\n        console.log(data)\n\t}\n}\nexport default mutations\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("ul",[n("li",[s._v("types.js  //定义方法名常量，管理方法名")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('const GET_SONG = "GET_SONG"  \nexport default {\n    GET_SONG\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h5",{attrs:{id:"_3-在detail-vue组件调用state中的数据"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-在detail-vue组件调用state中的数据","aria-hidden":"true"}},[s._v("#")]),s._v(" (3) 在detail.vue组件调用state中的数据")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('<script>\nimport { mapGetters, mapActions } from "vuex";\nexport default {\n  computed: {\n    ...mapGetters(["getSong"])  //此数据可以直接在页面模板调用\n  },\n  created() {\n    this.$store.dispatch("getSongAsync");  //页面初始化时发送事件\n  }\n};\n<\/script>\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("h2",{attrs:{id:"三、引入vant"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#三、引入vant","aria-hidden":"true"}},[s._v("#")]),s._v(" 三、引入Vant")]),s._v(" "),n("h3",{attrs:{id:"vant按需引入组件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#vant按需引入组件","aria-hidden":"true"}},[s._v("#")]),s._v(" Vant按需引入组件")]),s._v(" "),n("p",[n("a",{attrs:{href:"https://youzan.github.io/vant/#/zh-CN/intro",target:"_blank",rel:"noopener noreferrer"}},[s._v("官方网址"),n("OutboundLink")],1)]),s._v(" "),n("h5",{attrs:{id:"_1、安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1、安装","aria-hidden":"true"}},[s._v("#")]),s._v(" 1、安装")]),s._v(" "),n("p",[n("code",[s._v("npm i vant -S")])]),s._v(" "),n("ul",[n("li",[s._v("babel-plugin-import 是一款 babel 插件，它会在编译过程中将 import 的写法自动转换为按需引入的方式")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("# 安装 babel-plugin-import 插件\nnpm i babel-plugin-import -D\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('// .babelrc 中配置\n// 注意：webpack 1 无需设置 libraryDirectory\n{\n  "plugins": [\n    ["import", {\n      "libraryName": "vant",\n      "libraryDirectory": "es",\n      "style": true\n    }]\n  ]\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("blockquote",[n("p",[s._v("!注意：配置 babel-plugin-import 插件后将不允许导入所有组件")])]),s._v(" "),n("h5",{attrs:{id:"_2、新建-src-vant-components-js按需使用swiper组件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2、新建-src-vant-components-js按需使用swiper组件","aria-hidden":"true"}},[s._v("#")]),s._v(" 2、新建--src/vant-components.js按需使用swiper组件")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("import Vue from 'vue'\n\nimport { Swipe, SwipeItem } from 'vant';\n\nVue.use(Swipe).use(SwipeItem);\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("h5",{attrs:{id:"_3、在main引入vant-components-js即可在所有页面使用引入的组件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3、在main引入vant-components-js即可在所有页面使用引入的组件","aria-hidden":"true"}},[s._v("#")]),s._v(" 3、在main引入vant-components.js即可在所有页面使用引入的组件")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/13505073-6696122287b34157.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"引入组件.png"}})]),s._v(" "),n("h5",{attrs:{id:"_4、此时就可以在vue组件中使用vant的swipe组件了"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4、此时就可以在vue组件中使用vant的swipe组件了","aria-hidden":"true"}},[s._v("#")]),s._v(" 4、此时就可以在vue组件中使用vant的swipe组件了")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/13505073-132545809587e068.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"使用组件.png"}})]),s._v(" "),n("h2",{attrs:{id:"四、配置代理服务器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#四、配置代理服务器","aria-hidden":"true"}},[s._v("#")]),s._v(" 四、配置代理服务器")]),s._v(" "),n("h3",{attrs:{id:"编译打包前要做的事"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#编译打包前要做的事","aria-hidden":"true"}},[s._v("#")]),s._v(" 编译打包前要做的事")]),s._v(" "),n("h5",{attrs:{id:"_1、修改文件-config-index-js"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1、修改文件-config-index-js","aria-hidden":"true"}},[s._v("#")]),s._v(" 1、修改文件--config/index.js")]),s._v(" "),n("ul",[n("li",[s._v("找到build中"),n("code",[s._v("assetsPublicPath")]),s._v("选项进行修改\n"),n("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/13505073-c6c836fa4a06e0e4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"修改assetsPublicPath选项.png"}})])]),s._v(" "),n("h5",{attrs:{id:"_2、修改文件-config-index-js，进行代理服务器配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2、修改文件-config-index-js，进行代理服务器配置","aria-hidden":"true"}},[s._v("#")]),s._v(" 2、修改文件--config/index.js，进行代理服务器配置")]),s._v(" "),n("ul",[n("li",[s._v("找到dev中的"),n("code",[s._v("proxyTable")]),s._v("进行代理服务器配置，统一管理接口")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("proxyTable: {\n  '/song': {  //匹配项,放在项目调用中\n    target: 'http://www.wanandroid.com/tools/mockapi/9664/songlist', // 接口域名\n    // secure: false,  // 如果是https接口，需要配置这个参数\n    changeOrigin: true, //是否跨域\n    pathRewrite: { //重写地址\n      '^/song': '' //因为接口中没有这个匹配项，所以要重写地址，才能正常访问\n    }\n  },\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("h5",{attrs:{id:"_3、修改文件-build-utils-js"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3、修改文件-build-utils-js","aria-hidden":"true"}},[s._v("#")]),s._v(" 3、修改文件--build/utils.js")]),s._v(" "),n("ul",[n("li",[s._v("找到"),n("code",[s._v("ExtractTextPlugin.extract")]),s._v("，添加"),n("code",[s._v("publicPath")]),s._v("选项")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("if (options.extract) {\n    return ExtractTextPlugin.extract({\n      publicPath: '../../',  //TODO:css中用到资源时需要加的属性\n      use: loaders,\n      fallback: 'vue-style-loader'\n    })\n  } else {\n    return ['vue-style-loader'].concat(loaders)\n  }\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])])])},[],!1,null,null,null);a.default=e.exports}}]);